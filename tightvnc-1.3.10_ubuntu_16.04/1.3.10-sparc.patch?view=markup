



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- ViewCVS - http://viewcvs.sourceforge.net/
by Greg Stein - mailto:gstein@lyra.org -->
<head>
<title>[gentoo-x86] View of /net-misc/tightvnc/files/1.3.10-sparc.patch</title>
<meta name="generator" content="ViewCVS 1.0_pre20050929" />
<link rel="stylesheet" href="/docroot/styles.css" type="text/css" />
</head>
<body>
<div class="vc_navheader">

<form method="get" action="/viewcvs.py/">

<table style="padding:0.1em;">
<tr>
<td><strong>

<a href="/viewcvs.py/gentoo-x86/">

[gentoo-x86]</a>
/

<a href="/viewcvs.py/gentoo-x86/net-misc/">

net-misc</a>
/

<a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/">

tightvnc</a>
/

<a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/files/">

files</a>
/

<a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/files/1.3.10-sparc.patch?view=log">

1.3.10-sparc.patch</a>


</strong></td>
<td style="text-align:right;">


<strong>Project Root:</strong>
<select name="root" onchange="submit()">


<option value="*viewroots*">Repository Listing</option>




















































































































































































































































































































































































































<optgroup label="CVS Repositories"><option>gentoo</option><option>gentoo-projects</option><option>gentoo-src</option><option selected="selected">gentoo-x86</option></optgroup>


<optgroup label="Subversion Repositories"><option>apache</option><option>autoepatch</option><option>baselayout</option><option>catalyst</option><option>devmanual</option><option>dietlibc</option><option>emacs</option><option>eselect</option><option>genkernel</option><option>gentoo-alt</option><option>gentoo-bashcomp</option><option>gentoo-dev-summary</option><option>gentoo-news</option><option>gentoo-perl</option><option>gentoo-python</option><option>gentoo-syntax</option><option>gentoo-vdr</option><option>gentoolkit</option><option>gli</option><option>glsr</option><option>hardened</option><option>hwdata</option><option>kde</option><option>keychain</option><option>linux-patches</option><option>livecd-tools</option><option>overlays</option><option>path-sandbox</option><option>php</option><option>planet</option><option>portage</option><option>pybugz</option><option>releng</option><option>sandbox</option><option>scire</option><option>votify</option><option>vps</option></optgroup>

</select>
<input type="submit" value="Go" />

</td>
</tr>
</table>

</form>

</div>
<h1><img style="float:right;" src="/docroot/images/gentoo-new.gif" alt="Gentoo" width="182" height="59" />View of /net-misc/tightvnc/files/1.3.10-sparc.patch</h1>

<p style="margin:0;">
<a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/files/"><img src="/docroot/images/back_small.png" width="16" height="16" alt="Parent Directory" /> Parent Directory</a>

| <a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/files/1.3.10-sparc.patch?view=log"><img src="/docroot/images/text.png" alt="Revision Log" /> Revision Log</a>


| <a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/files/1.3.10-sparc.patch?view=graph"><img src="/docroot/images/cvsgraph_16x16.png" alt="View Revision Graph" /> Revision Graph</a>

</p>
<hr />
<div class="vc_summary">
Revision: <strong>1.1</strong> -
(<a href="/viewcvs.py/*checkout*/gentoo-x86/net-misc/tightvnc/files/1.3.10-sparc.patch?rev=1.1"><strong>download</strong></a>)

(<a href="/viewcvs.py/gentoo-x86/net-misc/tightvnc/files/1.3.10-sparc.patch?annotate=1.1"><strong>annotate</strong></a>)

<br /><em>Wed Nov  4 19:12:33 2009 UTC</em> (2 weeks, 1 day ago) by <em>armin76</em>

<br />Branch: <strong>MAIN</strong>


<br />CVS Tags: <strong>HEAD</strong>








<pre class="vc_log">Add a patch to fix corruption on sparc
(Portage version: 2.1.6.13/cvs/Linux ia64)
</pre>

</div>
<div><pre>diff -ur vnc_unixsrc.orig/Xvnc/programs/Xserver/include/servermd.h vnc_unixsrc/Xvnc/programs/Xserver/include/servermd.h
--- vnc_unixsrc.orig/Xvnc/programs/Xserver/include/servermd.h	2009-11-04 18:44:50.000000000 +0000
+++ vnc_unixsrc/Xvnc/programs/Xserver/include/servermd.h	2009-11-04 18:47:48.000000000 +0000
@@ -421,6 +421,20 @@
 
 #endif /* Linux/PPC */
 
+#if defined (linux) &amp;&amp; defined(__sparc__)
+
+#define IMAGE_BYTE_ORDER       MSBFirst
+#define BITMAP_BIT_ORDER       MSBFirst
+#define GLYPHPADBYTES          4
+#define GETLEFTBITS_ALIGNMENT  1
+
+#define AVOID_MEMORY_READ 
+#define LARGE_INSTRUCTION_CACHE
+#define FAST_CONSTANT_OFFSET_MODE
+#define SHARED_IDCACHE
+
+#endif /* Linux/sparc */
+
 #if defined(__MACH__) &amp;&amp; defined(__POWERPC__)
 
 #define IMAGE_BYTE_ORDER       MSBFirst</pre></div>

<hr />
<table>
<tr>
<td>
<address><a href="mailto:www@gentoo.org">www@gentoo.org</a></address><br />
Powered by <a href="http://viewcvs.sourceforge.net/">ViewCVS 1.0_pre20050929</a>
</td>
<td style="text-align:right;">
<h3><a href="/docroot/help_rootview.html">ViewCVS and CVS Help</a></h3>
</td>
</tr>
</table>
</body>
</html>

